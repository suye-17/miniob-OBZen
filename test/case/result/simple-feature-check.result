===== 简化功能验证测试 =====

=== 创建测试表 ===
CREATE TABLE TEST1(ID INT, VAL INT);
SUCCESS
CREATE TABLE TEST2(ID INT, SCORE INT);
SUCCESS

INSERT INTO TEST1 VALUES (1, 10);
SUCCESS
INSERT INTO TEST1 VALUES (2, 20);
SUCCESS
INSERT INTO TEST1 VALUES (3, 30);
SUCCESS
INSERT INTO TEST2 VALUES (1, 85);
SUCCESS
INSERT INTO TEST2 VALUES (2, 90);
SUCCESS

=== 测试1: IN值列表 ===
SELECT * FROM TEST1 WHERE ID IN (1, 3);
1 | 10
3 | 30
ID | VAL

=== 测试2: NOT IN值列表 ===
SELECT * FROM TEST1 WHERE ID NOT IN (2);
1 | 10
3 | 30
ID | VAL

=== 测试3: IN子查询 ===
SELECT * FROM TEST1 WHERE ID IN (SELECT ID FROM TEST2);
1 | 10
2 | 20
ID | VAL

=== 测试4: NOT IN子查询 ===
SELECT * FROM TEST1 WHERE ID NOT IN (SELECT ID FROM TEST2 WHERE SCORE < 90);
2 | 20
3 | 30
ID | VAL

=== 测试5: INNER JOIN ===
SELECT * FROM TEST1 INNER JOIN TEST2 ON TEST1.ID = TEST2.ID;
1 | 10 | 1 | 85
2 | 20 | 2 | 90
ID | VAL | ID | SCORE

=== 测试6: INNER JOIN多条件 ===
SELECT * FROM TEST1 INNER JOIN TEST2 ON TEST1.ID = TEST2.ID AND TEST2.SCORE > 85;
2 | 20 | 2 | 90
ID | VAL | ID | SCORE

=== 测试7: EXISTS ===
SELECT * FROM TEST1 WHERE EXISTS (SELECT * FROM TEST2 WHERE TEST2.ID = TEST1.ID);
1 | 10
2 | 20
3 | 30
ID | VAL

=== 测试8: NOT EXISTS ===
SELECT * FROM TEST1 WHERE NOT EXISTS (SELECT * FROM TEST2 WHERE TEST2.ID = TEST1.ID AND TEST2.SCORE > 90);
ID | VAL

=== 测试9: 标量子查询 ===
SELECT * FROM TEST1 WHERE VAL > (SELECT AVG(VAL) FROM TEST1);
3 | 30
ID | VAL

=== 测试10: 聚合函数 ===
SELECT COUNT(*), SUM(SCORE), AVG(SCORE) FROM TEST2;
COUNT(*) | SUM(SCORE) | AVG(SCORE)
2 | 175 | 87.5

=== 清理 ===
DROP TABLE TEST1;
SUCCESS
DROP TABLE TEST2;
SUCCESS

